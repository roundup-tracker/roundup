Building Releases
=================

Roundup is currently a source-only release - it has no binary components. I
want it to stay that way, too. This document describes how to build a
source release. Users of Roundup should read the doc/installation.txt file
to find out how to install this software.

Building a release of Roundup is done by running:

1.  Make sure the unit tests run! "./run_tests.py"
2.  Edit roundup/__init__.py and doc/announcement.txt to reflect the new
    version and appropriate announcements. Add truncated announcement to
    setup.py description field.
3.  python setup.py clean --all
4.  Edit setup.py to ensure that all information therein (version, contact
    information etc) is correct.
5.  python setup.py sdist --manifest-only
6.  Check the MANIFEST to make sure that any new files are included. If
    they are not, edit MANIFEST.in to include them. "Documentation" for
    MANIFEST.in may be found in disutils.filelist._parse_template_line.
7.  python setup.py sdist
    (if you find sdist a little verbose, add "--quiet" to the end of the
     command)
8. unpack the new dist file in /tmp then a) run_test.py and b) demo.py
    with all available Python versions.
9.  python setup.py bdist_rpm
10. python setup.py bdist_wininst

So, those commands in a nice, cut'n'pasteable form::

 python setup.py clean --all
 python setup.py sdist --manifest-only
 python setup.py sdist --quiet
 python setup.py bdist_rpm
 python setup.py bdist_wininst
 python setup.py register


Distributing Releases
=====================

Once a release is built, follow these steps:

1. generate gpg signature with "gpg -a --detach-sign" and upload to
   Sourceforge.
2. tag the CVS for the release, eg. "cvs tag -R release-0-6-3"
3. FTP the tar.gz from the dist directory to to the "incoming" directory on
   "upload.sourceforge.net".
4. Make a quick release at:
    http://sourceforge.net/project/admin/qrs.php?package_id=&group_id=31577
5. PyPI registration
6. Send doc/announcement.txt to python-announce@python.org
7. Notify any other news services as appropriate...

   http://freshmeat.net/projects/roundup/

